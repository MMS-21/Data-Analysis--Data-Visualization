# ğŸ’° E-commerce Customer Lifetime Value (CLV) & Churn Prediction
![slide1](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/main/ecommerce-clv-churn/reports/slides/Slide1.JPG)
![slide3](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/main/ecommerce-clv-churn/reports/slides/Slide3.JPG)
![slide4](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/main/ecommerce-clv-churn/reports/slides/Slide6.JPG)
![silde5](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/main/ecommerce-clv-churn/reports/slides/Slide18.JPG)
![silde6](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/main/ecommerce-clv-churn/reports/slides/Slide22.JPG)
![silde5](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/main/ecommerce-clv-churn/reports/slides/Slide23.JPG)

--- 

> ***you can find the whole slideshow [here](https://github.com/MMS-21/Data-Analysis--Data-Visualization/blob/f95bae087b15e29b12649f0338bf2f9f2a4c05fe/ecommerce-clv-churn/reports/slides/E-commerce%20Customer%20Analytics%20(CLV)%20%26%20Churn%20Risk.pdf)***

--- 

## ğŸ“‹ Project Overview

This project delivers a comprehensive, data-driven framework for understanding and optimizing the customer base of an e-commerce platform. It moves beyond simple transactional summaries to implement advanced predictive modeling techniques, namely  **RFM Segmentation** , **Customer Lifetime Value (CLV)** prediction, and  **Churn Risk Modeling** .

> ***The goal is to identify high-value customers, allocate marketing resources efficiently, and proactively mitigate churn risk among the most valuable and "At-Risk" segments.***

### Key Objectives:

* **Segment the Customer Base:** Use RFM (Recency, Frequency, Monetary) analysis to group customers into actionable segments (e.g., Champions, Loyal Customers, Need Attention).
* **Predict Future Value:** Apply probabilistic models (e.g., Gamma-Gompertz/Beta-NBD) to estimate 12-month Customer Lifetime Value (CLV).
* **Identify Churn Risk:** Develop and evaluate a classification model (e.g., Logistic Regression or similar) to assign a churn probability score to every customer.
* **Actionable Insights:** Generate prioritized lists of high-value and high-risk customers for immediate marketing and retention campaigns.

## ğŸ§ Problem Description

* In a competitive e-commerce landscape, not all customers are equally valuable. The core business challenges addressed by this analysis are:
* **Inefficient Resource Allocation:** Marketing and retention efforts are often spread evenly across all customers, leading to poor ROI.
* **High-Value Customer Attrition:** The inability to proactively identify and engage high-value customers who are showing signs of disengagement (high Recency).
* **Lack of Future Prediction:** Reliance on historical metrics alone, without estimating the future revenue potential (CLV) of the existing customer base.

> ***This project solves these issues by creating a holistic, predictive view of the customer base.***

## ğŸ“Š Dataset Description

The analysis is based on a Transactional E-commerce Dataset (inferred from the notebook structures, likely online_retail.csv or similar). The key features derived for analysis include:

| Feature             | Description                               | Analysis Phase  |
| ------------------- | ----------------------------------------- | --------------- |
| `Recency`         | Days since the customer's last purchase.  | RFM, Churn      |
| `Frequency`       | Total number of purchases made.           | RFM, CLV, Churn |
| `Monetary`        | Total revenue generated by the customer.  | RFM, CLV        |
| `Customer Age`    | Days since the customer's first purchase. | CLV, Churn      |
| `Avg Order Value` | Average revenue per transaction.          | Churn           |

## ğŸ”¬ Methodology

The project is structured into three progressive phases, documented in the corresponding Jupyter Notebooks:

### Phase 1: Exploratory Data Analysis (EDA)

* **Notebook:** `01_EDA.ipynb`
* **Focus:** Initial data cleaning, feature engineering (calculating Recency, Frequency, Monetary, and T/Age), and visualization of trends.
* **Key Findings (Inferred from snippet):** The EDA likely confirmed a high rate of one-time buyers, strong revenue concentration among top customers, and noticeable seasonal/weekly purchasing patterns, highlighting the importance of a retention strategy.

### **Phase 2: RFM Segmentation & CLV Modeling**

**Notebook:** `02_rfm_clv_analysis.ipynb`

**Techniques:**

* **RFM Scoring:** Customers were scored from 1 to 5 for each RFM metric using quantiles, followed by segment assignment (e.g., Champions: R=5, F=5, M=5).
* **CLV Prediction:** The BG/NBD (Beta Geometric/Negative Binomial Distribution) or a similar probabilistic model was used to predict expected future purchases, combined with a monetary value model (e.g., Gamma-Gamma) to calculate a 12-month Customer Lifetime Value.

### **Phase 3: Churn Prediction**

**Notebook: `03_churn_analysis.ipynb`**

**Techniques:**

* **Churn Labeling:** A Heuristic Approach was used, labeling a customer as "Churned" (actual_churn=1) if their Recency (time since last purchase) exceeded a predefined threshold (e.g., 90-180 days).
* **Model Training:** A classification model (e.g., Logistic Regression, Gradient Boosting) was trained on RFM features, CLV, and other derived metrics to predict churn_probability.
* **Risk Categorization:** Customers were grouped into risk_category tiers (e.g., Critical Risk, High Risk, Medium Risk).

## ğŸ“ˆ Key Results and Outputs

The analysis produced several critical, actionable outputs:

### 1. **Customer Segmentation Summary (`segment_summary.csv`)**

| Segment         | Customer % | Revenue % | Avg Recency (Days) | Avg Monetary |
| --------------- | ---------- | --------- | ------------------ | ------------ |
| Champions       | 22.1%      | 62.6%     | 20.3               | 4,952.96     |
| Loyal Customers | 11.8%      | 12.7%     | 83.0               | 1,879.23     |
| Need Attention  | 25.1%      | 10.8%     | 273.2              | 753.35       |

* **Insight:** The **Champions** segment represents a disproportionate amount of revenue, highlighting the necessity of hyper-focused retention strategies for this group. The **Need Attention** segment represents the largest opportunity for win-back campaigns.

### 2. **High-Priority Action Lists**

Two essential files provide lists for immediate campaign execution:

| Output File                                | Focus                                                                                                                                                                    | Sample Insight                                                                                                                               |
| ------------------------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------- |
| **at_risk_high_value_customers.csv** | Customers who are currently in the 'About to Sleep' segment (R=1 or R=2) but have a high predicted_clv or monetary value. (e.g., Customer 12835: R=428 days, CLV ~2,545) | Priority Retention: These customers require immediate, personalized outreach to prevent total churn and protect future revenue.              |
| **high_risk_customers_churn.csv**    | Customers with the highest churn_probability score (e.g., Customer 14750: Probability 0.9997).                                                                           | Win-Back Campaigns: Focus marketing spend on attempting to reactivate the highest predicted churners, especially those with salvageable CLV. |

### 3. Integrated Customer Data

The final output, integrated_customer_analysis.csv, merges all derived metrics RFM segment, predicted CLV, churn probability, and risk categoryâ€”into a single source of truth for downstream business intelligence and campaign systems.

## ğŸ“‚ Repository Structure

```
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/
â”‚   â”‚   â””â”€â”€ <source_data_file>.csv  # E-commerce transactional data (not provided, but inferred)
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 01_EDA.ipynb                # Exploratory Data Analysis
â”‚   â”œâ”€â”€ 02_rfm_clv_analysis.ipynb   # RFM Segmentation and CLV Modeling
â”‚   â””â”€â”€ 03_churn_analysis.ipynb     # Churn Labeling and Prediction Modeling
â”œâ”€â”€ reports/
â”‚   â”œâ”€â”€ segment_summary.csv         # Summary statistics for each RFM segment
â”‚   â”œâ”€â”€ rfm_clv_analysis.csv        # RFM scores and predicted CLV for all customers
â”‚   â”œâ”€â”€ churn_risk_scores.csv       # Churn probability and risk category for all customers
â”‚   â”œâ”€â”€ high_value_customers.csv    # List of 'Champions' and other high-scoring customers
â”‚   â””â”€â”€ integrated_customer_analysis.csv  # Final merged output
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ clv.py                      # Functions for RFM, CLV modeling (inferred)
â”‚   â””â”€â”€ churn.py                    # Functions for Churn modeling (inferred)
â””â”€â”€ README.md

```

---

## **ğŸš€   How to Run the Project**

### 1. Requirements

**The project uses a standard Python data science stack.**

* Python 3.8+
* Jupyter Notebook / JupyterLab

### 2. Environment Setup

It is highly recommended to use a virtual environment.

```
# Clone the repository

git clone `<your-repository-url>`
cd `<project-root-directory>`

# Create and activate a virtual environment

python -m venv venv
source venv/bin/activate  # On Windows, use: venv\Scripts\activate

# Install dependencies (assuming a requirements.txt is present)

pip install -r requirements.txt
```

---

> **Note:** Key libraries used include `pandas`, `numpy`, `scikit-learn`, lifelines (for CLV models), `matplotlib`, and `seaborn`.

### 3. Reproducing the Analysis

The analysis is fully reproducible by executing the notebooks sequentially:

1. **Start Jupyter:**

```
jupyter notebook
```

2. **Execute** `01_EDA.ipynb`: Runs initial cleaning and feature engineering.
3. **Execute** `02_rfm_clv_analysis.ipynb`: Calculates RFM scores, segments customers, and predicts CLV.
4. **Execute** `03_churn_analysis.ipynb`: Applies churn labeling, trains the prediction model, and generates final integrated risk scores.

> All generated reports and final data tables will be saved into the `reports/` directory.

## â­ï¸ Next Steps and Future Improvements

* **A/B Testing:** Design and execute A/B tests based on `the at_risk_high_value_customers.csv` list to validate the effectiveness of the proactive retention strategies.
* **Advanced CLV Modeling:** Explore deep learning approaches (e.g., LSTMs) to predict CLV for improved accuracy, especially for high-frequency shoppers.
* **Feature Engineering:** Incorporate product-level features (e.g., product categories purchased, discount rate) into the churn model to improve predictive power.
* **Deployment:** Containerize the final churn model (e.g., using Docker) and deploy it as a REST API endpoint for real-time risk scoring of new transactions.
